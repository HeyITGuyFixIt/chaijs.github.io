{"_id":"sinon-chai-es","name":"sinon-chai-es","dist-tags":{"latest":"3.7.0"},"versions":{"3.7.0":{"name":"sinon-chai-es","description":"Extends Chai with assertions for the Sinon.JS mocking framework.","keywords":["chai","chai-plugin","browser","vendor","mocks-and-spies","sinon","testing","spies","stubs","mocks"],"version":"3.7.0","author":{"name":"Domenic Denicola","email":"d@domenic.me","url":"https://domenic.me/"},"contributors":[{"name":"Simon de Lang","email":"simondelang@gmail.com"}],"license":"(BSD-2-Clause OR WTFPL)","repository":{"type":"git","url":"git+https://github.com/domenic/sinon-chai.git"},"main":"./lib/sinon-chai.js","module":"./lib/sinon-chai.mjs","scripts":{"test":"mocha","test-travis":"npm install && npm install chai@$CHAI_VERSION && npm install sinon@$SINON_VERSION && npm test","lint":"eslint .","cover":"nyc --reporter=html mocha && opener ./coverage/sinon-chai.js.html","prepublishOnly":"rollup -c"},"peerDependencies":{"chai":"^4.0.0","sinon":">=4.0.0"},"devDependencies":{"chai":"^4.2.0","eslint":"^6.8.0","mocha":"^9.0.1","nyc":"^15.0.0","opener":"^1.5.1","rollup":"^2.52.3","sinon":"^9.0.0"},"exports":{"import":"./lib/sinon-chai.mjs","require":"./lib/sinon-chai.js"},"gitHead":"a82d83968558ea9f5ce67d7f1b96118df8e1f9db","bugs":{"url":"https://github.com/domenic/sinon-chai/issues"},"homepage":"https://github.com/domenic/sinon-chai#readme","_id":"sinon-chai-es@3.7.0","_nodeVersion":"16.14.2","_npmVersion":"8.10.0","dist":{"integrity":"sha512-qusxvQ0WK+RsymJqML+01Lj5xXgfvoocEFsT5l0Wf5OE9vxhmasn9vAZuEKnSvA5k2lJxjt3xgAQdLmVEV84Aw==","shasum":"4f0823237b68bde545010558133e9f78f6688bfe","tarball":"https://registry.npmjs.org/sinon-chai-es/-/sinon-chai-es-3.7.0.tgz","fileCount":5,"unpackedSize":22184,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDuMsVAiN+isf6om/Yok2MvjCRXHj7RBuUrLhMepZJ5+AIgLCK6hv2bfjhfJvCU1ZGpjpMZ2IuCD1wWvRRv+/jaXTo="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi6RyhACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmqeeg//dmwFTuEmyT8bNkFaexEp/bfKEiXNASqw4usBug9cbf3MTIGw\r\nPlhTVWIlg2tJO5vOnmvgcLjMi7Ltd20h++nzoC6+Qi++TqqpTuRiIT3Qp3oM\r\nLEt0wdjTZoQYIi3DG9gH8a8l3UfkR6ed6/Nj+qLfoN4YZk9GkB8pjMXHPFmv\r\nSOJG5TayPkNZkB+5KvgG5Xk73ZD7v9zP/qvl3KC2UlWDKE/q5GxVD0L/iLxv\r\nJwJ9KDTEl3XWFVQciRNDPgHmLF01FEInT9DqNClTUmpBx1Uvr7qbYigjxj43\r\nxgkUVdhpXryq3rvw7gLhIl2u9ApeeEn5pztrgx1buUjHouEFbi6vB3YNlNRn\r\nV9LXFxdG1bIxyXW+x1eOPoYzneTqzdaT6/YVe6Kx4joVRlo9Hqy/+Q+M9UPd\r\nfKgDw96VssqSpQKP8b3Y10kE0/7iZGWo7svwHMdN0BVPUZ48s5PPqojDR4/B\r\nnokGVOqgDXxvZriy+lKop4ldrxptP1FZMy8Ot1zGmxA61Panpi62E4+qlZ9E\r\nVXDdeKPLbFfkGTKEfJ2e563FpluDFPMEm5Ddfuj+BIbtW4Lr2ySOtzhstx1l\r\n44fBzu713TMni/irhMQ5OafYUvsbxDpgJjhQhN0YSiwgWCrNggVRIKILZoaA\r\nHjjDFoFUTyiM2czzrMQrkdY0WE8r3SzImmQ=\r\n=fAw6\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"blikblum","email":"camara_luiz@yahoo.com.br"},"directories":{},"maintainers":[{"name":"blikblum","email":"camara_luiz@yahoo.com.br"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/sinon-chai-es_3.7.0_1659444384998_0.7268143872498538"},"_hasShrinkwrap":false}},"time":{"created":"2022-08-02T12:46:24.997Z","3.7.0":"2022-08-02T12:46:25.165Z","modified":"2022-08-02T12:46:25.302Z"},"maintainers":[{"name":"blikblum","email":"camara_luiz@yahoo.com.br"}],"description":"Extends Chai with assertions for the Sinon.JS mocking framework.","homepage":"https://github.com/domenic/sinon-chai#readme","keywords":["chai","chai-plugin","browser","vendor","mocks-and-spies","sinon","testing","spies","stubs","mocks"],"repository":{"type":"git","url":"git+https://github.com/domenic/sinon-chai.git"},"contributors":[{"name":"Simon de Lang","email":"simondelang@gmail.com"}],"author":{"name":"Domenic Denicola","email":"d@domenic.me","url":"https://domenic.me/"},"bugs":{"url":"https://github.com/domenic/sinon-chai/issues"},"license":"(BSD-2-Clause OR WTFPL)","readme":"# Sinon.JS Assertions for Chai\r\n\r\n**Sinon–Chai** provides a set of custom assertions for using the [Sinon.JS][] spy, stub, and mocking framework with the\r\n[Chai][] assertion library. You get all the benefits of Chai with all the powerful tools of Sinon.JS.\r\n\r\nInstead of using Sinon.JS's assertions:\r\n\r\n```javascript\r\nsinon.assert.calledWith(mySpy, \"foo\");\r\n```\r\n\r\nor awkwardly trying to use Chai's `should` or `expect` interfaces on spy properties:\r\n\r\n```javascript\r\nmySpy.calledWith(\"foo\").should.be.ok;\r\nexpect(mySpy.calledWith(\"foo\")).to.be.ok;\r\n```\r\n\r\nyou can say\r\n\r\n```javascript\r\nmySpy.should.have.been.calledWith(\"foo\");\r\nexpect(mySpy).to.have.been.calledWith(\"foo\");\r\n```\r\n\r\n## Assertions\r\n\r\nAll of your favorite Sinon.JS assertions made their way into Sinon–Chai. We show the `should` syntax here; the `expect`\r\nequivalent is also available.\r\n\r\n| Sinon.JS property/method | Sinon–Chai assertion                                              |\r\n|--------------------------|-------------------------------------------------------------------|\r\n| called                   | spy.should.have.been.called                                       |\r\n| callCount                | spy.should.have.callCount(n)                                      |\r\n| calledOnce               | spy.should.have.been.calledOnce                                   |\r\n| calledTwice              | spy.should.have.been.calledTwice                                  |\r\n| calledThrice             | spy.should.have.been.calledThrice                                 |\r\n| calledBefore             | spy1.should.have.been.calledBefore(spy2)                          |\r\n| calledAfter              | spy1.should.have.been.calledAfter(spy2)                           |\r\n| calledImmediatelyBefore  | spy.should.have.been.calledImmediatelyBefore(spy2)                |\r\n| calledImmediatelyAfter   | spy.should.have.been.calledImmediatelyAfter(spy2)                 |\r\n| calledWithNew            | spy.should.have.been.calledWithNew                                |\r\n| alwaysCalledWithNew      | spy.should.always.have.been.calledWithNew                         |\r\n| calledOn                 | spy.should.have.been.calledOn(context)                            |\r\n| alwaysCalledOn           | spy.should.always.have.been.calledOn(context)                     |\r\n| calledWith               | spy.should.have.been.calledWith(...args)                          |\r\n| alwaysCalledWith         | spy.should.always.have.been.calledWith(...args)                   |\r\n| calledOnceWith           | spy.should.always.have.been.calledOnceWith(...args)               |\r\n| calledWithExactly        | spy.should.have.been.calledWithExactly(...args)                   |\r\n| alwaysCalledWithExactly  | spy.should.always.have.been.calledWithExactly(...args)            |\r\n| calledOnceWithExactly    | spy.should.always.have.been.calledOnceWithExactly(...args)        |\r\n| calledWithMatch          | spy.should.have.been.calledWithMatch(...args)                     |\r\n| alwaysCalledWithMatch    | spy.should.always.have.been.calledWithMatch(...args)              |\r\n| returned                 | spy.should.have.returned(returnVal)                               |\r\n| alwaysReturned           | spy.should.have.always.returned(returnVal)                        |\r\n| threw                    | spy.should.have.thrown(errorObjOrErrorTypeStringOrNothing)        |\r\n| alwaysThrew              | spy.should.have.always.thrown(errorObjOrErrorTypeStringOrNothing) |\r\n\r\nFor more information on the behavior of each assertion, see\r\n[the documentation for the corresponding spy methods][spymethods]. These of course work on not only spies, but\r\nindividual spy calls, stubs, and mocks as well.\r\n\r\nNote that you can negate any assertion with Chai's `.not`. E. g. for `notCalled` use `spy.should.have.not.been.called`.\r\n\r\nFor `assert` interface there is no need for this library. You can install [Sinon.JS assertions][sinonassertions] right into Chai's `assert` object with `expose`:\r\n\r\n```javascript\r\nvar chai = require(\"chai\");\r\nvar sinon = require(\"sinon\");\r\n\r\nsinon.assert.expose(chai.assert, { prefix: \"\" });\r\n```\r\n\r\n## Examples\r\n\r\nUsing Chai's `should`:\r\n\r\n```javascript\r\n\"use strict\";\r\nvar chai = require(\"chai\");\r\nvar sinon = require(\"sinon\");\r\nvar sinonChai = require(\"sinon-chai\");\r\nchai.should();\r\nchai.use(sinonChai);\r\n\r\nfunction hello(name, cb) {\r\n    cb(\"hello \" + name);\r\n}\r\n\r\ndescribe(\"hello\", function () {\r\n    it(\"should call callback with correct greeting\", function () {\r\n        var cb = sinon.spy();\r\n\r\n        hello(\"foo\", cb);\r\n\r\n        cb.should.have.been.calledWith(\"hello foo\");\r\n    });\r\n});\r\n```\r\n\r\nUsing Chai's `expect`:\r\n\r\n```javascript\r\n\"use strict\";\r\nvar chai = require(\"chai\");\r\nvar sinon = require(\"sinon\");\r\nvar sinonChai = require(\"sinon-chai\");\r\nvar expect = chai.expect;\r\nchai.use(sinonChai);\r\n\r\nfunction hello(name, cb) {\r\n    cb(\"hello \" + name);\r\n}\r\n\r\ndescribe(\"hello\", function () {\r\n    it(\"should call callback with correct greeting\", function () {\r\n        var cb = sinon.spy();\r\n\r\n        hello(\"foo\", cb);\r\n\r\n        expect(cb).to.have.been.calledWith(\"hello foo\");\r\n    });\r\n});\r\n```\r\n\r\n## Installation and Usage\r\n\r\n### Node\r\n\r\nDo an `npm install --save-dev sinon-chai` to get up and running. Then:\r\n\r\n```javascript\r\nvar chai = require(\"chai\");\r\nvar sinonChai = require(\"sinon-chai\");\r\n\r\nchai.use(sinonChai);\r\n```\r\n\r\nYou can of course put this code in a common test fixture file; for an example using [Mocha][], see\r\n[the Sinon–Chai tests themselves][fixturedemo].\r\n\r\n### AMD\r\n\r\nSinon–Chai supports being used as an [AMD][] module, registering itself anonymously (just like Chai). So, assuming you\r\nhave configured your loader to map the Chai and Sinon–Chai files to the respective module IDs `\"chai\"` and\r\n`\"sinon-chai\"`, you can use them as follows:\r\n\r\n```javascript\r\ndefine(function (require, exports, module) {\r\n    var chai = require(\"chai\");\r\n    var sinonChai = require(\"sinon-chai\");\r\n\r\n    chai.use(sinonChai);\r\n});\r\n```\r\n\r\n### `<script>` tag\r\n\r\nIf you include Sinon–Chai directly with a `<script>` tag, after the one for Chai itself, then it will automatically plug\r\nin to Chai and be ready for use. Note that you'll want to get the latest browser build of Sinon.JS as well:\r\n\r\n```html\r\n<script src=\"chai.js\"></script>\r\n<script src=\"sinon-chai.js\"></script>\r\n<script src=\"sinon.js\"></script>\r\n```\r\n\r\n### Ruby on Rails\r\n\r\nThanks to [Cymen Vig][], there's now [a Ruby gem][] of Sinon–Chai that integrates it with the Rails asset pipeline!\r\n\r\n\r\n[Sinon.JS]: http://sinonjs.org/\r\n[Chai]: http://chaijs.com/\r\n[spymethods]: http://sinonjs.org/docs/#spies-api\r\n[sinonassertions]: http://sinonjs.org/docs/#assertions\r\n[Mocha]: https://mochajs.org/\r\n[fixturedemo]: https://github.com/domenic/sinon-chai/tree/master/test/\r\n[AMD]: https://github.com/amdjs/amdjs-api/wiki/AMD\r\n[Cymen Vig]: https://github.com/cymen\r\n[a Ruby gem]: https://github.com/cymen/sinon-chai-rails\r\n","readmeFilename":"README.md"}