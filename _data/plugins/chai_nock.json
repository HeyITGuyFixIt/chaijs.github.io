{"_id":"chai-nock","_rev":"3-2476d1583403ae989df280e96baa401b","name":"chai-nock","dist-tags":{"latest":"1.1.0"},"versions":{"1.0.0":{"name":"chai-nock","version":"1.0.0","description":"Extends Chai with assertions for the Nock Http mocking framework","main":"index.js","scripts":{"test":"jest test","style":"eslint ."},"keywords":["chai","chai-plugin","nock","testing","assertions","interceptor","http"],"repository":{"type":"git","url":"git+https://github.com/ComparetheMarket/chai-nock.git"},"author":{"name":"Chris Andrews, Ben Vaughan-Jones"},"license":"MIT","bugs":{"url":"https://github.com/ComparetheMarket/chai-nock/issues"},"homepage":"https://github.com/ComparetheMarket/chai-nock#readme","devDependencies":{"eslint":"^5.9.0","jest":"^23.6.0","nock":"^10.0.2","request":"^2.88.0","request-promise-native":"^1.0.5"},"dependencies":{"chai":"^4.2.0","deep-equal":"^1.0.1"},"gitHead":"aba21b305aa0147a5ee059378c1422ca36c596b0","_id":"chai-nock@1.0.0","_npmVersion":"6.4.1","_nodeVersion":"8.11.2","_npmUser":{"name":"chrisandrews7","email":"chris@straza.co.uk"},"dist":{"integrity":"sha512-jiZlAl/RxUGwNgtQHEdm09yOmpYwPbeaUitqvhzpeHnCyhxMGa/XZnL5HGFOwqJxvjk8Mtqq3A6sXOx/NC9+jw==","shasum":"245471d55f8445ac32ada6dc89c514922905d573","tarball":"https://registry.npmjs.org/chai-nock/-/chai-nock-1.0.0.tgz","fileCount":7,"unpackedSize":11737,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJb/WA+CRA9TVsSAnZWagAAi6IQAI8gbLu4ZlWiAIC9cHHR\naRb5h6CY6u/yV1r0MjkRY1OiGX9gg98KBYE4MkyaOGz7nTe9mvtcZORyHyHw\nrxVr2nBHcmnpiPTAWnbtgDsI0QYyx0pC1gDnyG/HyyEvgYYyGKzkZaNidaOa\nZQp3Q+YIZ5rq6+cDFD820+D0Sfgr3uqOkkuolkSpIvUkJ2lW+1+BsVqM+X32\n/ukxqNRv/BpU0/fF8LppSXhR+VWi0MR2QxwoDIKphoJlpDrHc7Y3SjRp8OWM\nv0pmze7qRjjC4AmxGyQenKdVOHvOjb3ZMEfGnQIW7FUPb6hoGzQ1JQ/c+brj\n1DxBq/awd100uF71CK4nU7WHXXZATLdJtf5m94Tp3I3Ej/w+q0HzJ7i+ka3d\n5cQguNsOyAbZT3k5GdwRlCzDtMBSrYMXijAFXHkPMJVtrZA7JF6WwL1BW00V\nlCEq/U4dOPEqB3GULPecRSx0sI/5cGy0gabEu5gng6T6fBh0l0IA475+FjJM\nQy00MLjzdQ4+3C5R2w2zFBPIMo4FuKLFLZp+2ur1MvD3OSCqxUb0f/uRkWnP\nwoJkjQdAEHAlf1nK/m5Rbr/b7XpksbyA2hisIoLqc+RH7dgji0wINN/Uj5X9\noV0Ct0yAgZ0deLfFI5Rd0WpoTQi3qusnbdoTIsVaKuzh5Fd4KDvuNc6lmilh\nuY8p\r\n=7602\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"chrisandrews7","email":"chris@straza.co.uk"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-nock_1.0.0_1543331902085_0.9812402976412071"},"_hasShrinkwrap":false},"1.1.0":{"name":"chai-nock","version":"1.1.0","description":"Extends Chai with assertions for the Nock Http mocking framework","main":"index.js","scripts":{"test":"jest test","test:coverage":"npm test -- --coverage","style":"eslint ."},"keywords":["chai","chai-plugin","nock","testing","assertions","interceptor","http"],"repository":{"type":"git","url":"git+https://github.com/chrisandrews7/chai-nock.git"},"author":{"name":"Chris Andrews, Ben Vaughan-Jones, Rick Clark"},"license":"MIT","bugs":{"url":"https://github.com/chrisandrews7/chai-nock/issues"},"homepage":"https://github.com/chrisandrews7/chai-nock#readme","devDependencies":{"coveralls":"^3.0.2","eslint":"^5.9.0","eslint-config-airbnb-base":"^13.1.0","eslint-config-prettier":"^3.3.0","eslint-plugin-import":"^2.14.0","eslint-plugin-prettier":"^3.0.0","jest":"^23.6.0","nock":"^10.0.2","prettier":"^1.15.3","request":"^2.88.0","request-promise-native":"^1.0.5"},"dependencies":{"chai":"^4.2.0","deep-equal":"^1.0.1"},"gitHead":"889336b6d02230f3b0d61a631db071c07981e946","_id":"chai-nock@1.1.0","_npmVersion":"6.4.1","_nodeVersion":"8.12.0","_npmUser":{"name":"rkclark","email":"rkingsleyclark@gmail.com"},"dist":{"integrity":"sha512-Qnzj2WaD2Lwuu1oG8sFO+NilxQXfKkzJ/WK5xZ7iLT+gDCvA2w4KhzJIYg7PQxlo2Vj3hHbQKbg5m/hZr3sQxg==","shasum":"3eed84b00f619710f6e2563d7885d097e7f0b601","tarball":"https://registry.npmjs.org/chai-nock/-/chai-nock-1.1.0.tgz","fileCount":11,"unpackedSize":29657,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcE5DFCRA9TVsSAnZWagAAAmoQAJHClWWD1uXEY1GIpU83\n3g3plQVvU/dkx3ytdTh/WzI+/Bpe4FzvilZTK7IzXLhOqUnAdOVZ6uYeNkGp\ns7M/wlgEiqSMJOkOaW/LuZNrp+53DoJGSOO3h7tZsxNmaqUnIW3E3Ycdnqco\n7Wa8lA/98PXOQol0D5dJX12m8GA3fvC7KI8365BsozPTTv78p6d97kkrUML7\nvJ4DIprT4PVkb8f81TWqK3IBFIeZyX3ca1mVni/9dBZOJlHD0c2iQLDjEAlG\n1oWwe9yF5gDQZELlLLsEnshp4wS9uzu1j1NEkQXn6lkmPwFhpYctjgW/qZe2\neAkh5E5jRKNzcgiJgr+z0LBQnauC+OJHVAv/SAeBn+6GJiz/FFlMAljhSV0D\nKL3gp64uXDUkyYk6pqNUs6E8YccsDbVViLUQT84G2X0I+ugz6N8KXvtDMil0\n/FrJe0EJrCP4RS+76j+C4AnFzBh4IwoAjqnTce+tJDCZs8qeDPyydwHFswDl\ngv2v1IYDEJjuu5NmBMYRLhMbgiPr5H1h82d3emQOaiA2d3E7dDv6n6oRZ6Pv\npdy/aQLbo0iseHmzgDm/HWkliVzl6+5dd4svDWjTfbbNNdfCNouWYjBbiSEH\n9pI1KKVBo+7Kvk9Em3h1xL4eCsPJE6bezPHmWtZ02B7wFEp3mL2+PMf4YcXQ\nIvsO\r\n=bMn9\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"chrisandrews7","email":"chris@straza.co.uk"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-nock_1.1.0_1544786116992_0.92395023059944"},"_hasShrinkwrap":false}},"time":{"created":"2018-11-27T15:18:22.083Z","1.0.0":"2018-11-27T15:18:22.196Z","modified":"2018-12-17T12:00:33.856Z","1.1.0":"2018-12-14T11:15:17.203Z"},"maintainers":[{"email":"chris@straza.co.uk","name":"chrisandrews7"},{"email":"benvaughanjones@gmail.com","name":"bvjones"},{"email":"rkingsleyclark@gmail.com","name":"rkclark"}],"description":"Extends Chai with assertions for the Nock Http mocking framework","homepage":"https://github.com/chrisandrews7/chai-nock#readme","keywords":["chai","chai-plugin","nock","testing","assertions","interceptor","http"],"repository":{"type":"git","url":"git+https://github.com/chrisandrews7/chai-nock.git"},"author":{"name":"Chris Andrews, Ben Vaughan-Jones, Rick Clark"},"bugs":{"url":"https://github.com/chrisandrews7/chai-nock/issues"},"license":"MIT","readme":"# Chai Assertions for Nock\n\n[![Build Status](https://travis-ci.org/chrisandrews7/chai-nock.svg?branch=master)](https://travis-ci.org/chrisandrews7/chai-nock) [![Coverage Status](https://coveralls.io/repos/github/chrisandrews7/chai-nock/badge.svg?branch=master)](https://coveralls.io/github/chrisandrews7/chai-nock?branch=master) [![npm version](https://img.shields.io/npm/v/chai-nock.svg?style=flat)](https://www.npmjs.com/package/chai-nock)\n\n**Nock Chai** extends [Chai](http://chaijs.com/) with a language for asserting facts about [Nock](https://www.npmjs.com/package/nock).\n\nInstead of manually wiring up your expectations to intercepting a nocked request:\n\n```javascript\nconst nockedRequest = nock('http://some-url');\n\nnockedRequest.on('request', function(req, interceptor, body) {\n  expect(body).to.deep.equal({ hello: 'world' });\n});\n```\n\nyou can write code that expresses what you really mean:\n\n```javascript\nreturn expect(nock('http://some-url')).to.have.been.requestedWith({\n  hello: 'world'\n});\n```\n\n## Installation\n\n`npm install chai-nock`\n\nThen add to your test setup:\n\n```javascript\nconst chai = require('chai');\nconst chaiNock = require('chai-nock');\n\nchai.use(chaiNock);\n```\n\n## Assertions\n\n### requested\n\nAsserts that a request has been made to the nock.\n\n```javascript\nit('requested', () => {\n  const requestNock = nock('http://bbc.co.uk')\n    .get('/')\n    .reply(200);\n\n  request({\n    uri: 'http://bbc.co.uk',\n  });\n\n  return expect(requestNock).to.have.been.requested;\n});\n```\n\n### requestedWith(body)\n\nAsserts that a request has been made to the nock with a body that exactly matches the object provided.\n\n```javascript\nit('requestedWith', () => {\n  const requestNock = nock('http://bbc.co.uk')\n    .get('/')\n    .reply(200);\n\n  request({\n    json: true,\n    uri: 'http://bbc.co.uk',\n    body: {\n      hello: 'world'\n    }\n  });\n\n  return expect(requestNock).to.have.been.requestedWith({ hello: 'world' });\n});\n```\n\n### requestedWithHeaders(headers)\n\nAsserts that a request has been made to the nock with headers that exactly match the object provided.\n\n```javascript\nit('requestedWithHeaders', () => {\n  const requestNock = nock('http://bbc.co.uk')\n    .get('/')\n    .reply(200);\n\n  request({\n    json: true,\n    uri: 'http://bbc.co.uk',\n    headers: {\n      myHeader: 'myHeaderValue'\n    }\n  });\n\n  return expect(requestNock).to.have.been.requestedWithHeaders({\n    host: 'bbc.co.uk',\n    accept: 'application/json',\n    myHeader: 'myHeaderValue'\n  });\n});\n```\n\n### requestedWithHeadersMatch(partialHeaders)\n\nAsserts that a request has been made to the nock with headers that contain the key/value pairs in the object provided.\n\n```javascript\nit('requestedWithHeadersMatch', () => {\n  const requestNock = nock('http://bbc.co.uk')\n    .get('/')\n    .reply(200);\n\n  request({\n    json: true,\n    uri: 'http://bbc.co.uk',\n    headers: {\n      myHeader: 'myHeaderValue',\n      otherHeader: 'otherHeaderValue'\n    }\n  });\n\n  return expect(requestNock).to.have.been.requestedWithHeadersMatch({\n    myHeader: 'myHeaderValue'\n  });\n});\n```\n\n## Usage\n\n```javascript\nconst { expect } = require('chai');\nconst nock = require('nock');\nconst request = require('request-promise-native');\n\ndescribe('example', () => {\n  it('test', () => {\n    const requestNock = nock('http://bbc.co.uk')\n    .get('/')\n    .reply(200);\n\n    request({\n      json: true,\n      uri: 'http://bbc.co.uk',\n      body: {\n        hello: 'world'\n      }\n    });\n\n    return expect(requestNock).to.have.been.requestedWith({ hello: 'world' });\n  });\n});\n```\n","readmeFilename":"README.md"}