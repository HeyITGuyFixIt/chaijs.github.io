{"_id":"chai-eventemitter2","_rev":"3-f6de6ef9e5a8196942a2b70df30f75ef","name":"chai-eventemitter2","dist-tags":{"latest":"0.2.1"},"versions":{"0.1.0":{"name":"chai-eventemitter2","version":"0.1.0","description":"Chai plugin for testing node-style EventEmitters","main":"lib/chai-eventemitter2","scripts":{"test":"mocha","coverage":"nyc --reporter=html npm test"},"repository":{"type":"git","url":"git+ssh://git@github.com/leonardoraele/chai-eventemitter2.git"},"keywords":["chai","chai-plugin","plugin","eventemitter","event","emitter","test"],"author":{"name":"Leonardo Raele","email":"leonardoraele@gmail.com"},"license":"MIT","bugs":{"url":"https://github.com/leonardoraele/chai-eventemitter2/issues"},"homepage":"https://github.com/leonardoraele/chai-eventemitter2#readme","devDependencies":{"chai":"^4.3.4","mocha":"^8.3.2","nyc":"^15.1.0"},"dependencies":{"deep-equal":"^2.0.5"},"gitHead":"0b3dd2eb819050a75941f751002e1a75249364fe","_id":"chai-eventemitter2@0.1.0","_nodeVersion":"15.12.0","_npmVersion":"7.6.3","dist":{"integrity":"sha512-AhVIzgahYcyYLZJMWZUnsPELGNRfXNVC5DqRyjkPp/Rft5RPG+TpmQqBdP1XSv5s8Adg1omFtkl4ttaq7KUbog==","shasum":"b8412594d039d69e28ec8d3be23b40fea27d9862","tarball":"https://registry.npmjs.org/chai-eventemitter2/-/chai-eventemitter2-0.1.0.tgz","fileCount":8,"unpackedSize":25779,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgcxv9CRA9TVsSAnZWagAAdU8P/2zSewDe5sBYY6+jNCml\nj5NWHhbDuY3GgbSNxxYFqbNyVIsimE1q1JgzJGeT1dBYyX52y9LD0+UTw66r\nxULsmM4AOcqJeNUqOm+JN6Ox521nBj9tkwErcKw4YGI3U5NhrLkzpwKaMqNu\nIulURC6wKSouH4dqZD+mkWpLiH1xVUruEbuAVlLbzPMpnQWzfdFUrj7lxa7V\nxZnD2/DhxbE2a31JvXBtuwOZLF17OtsnZBX6FnlPIdoHG5SzOauOBk/rYGOn\ntc/ZOSocHbj9kwWah1nKAHhjDOzeRJnj0HpGqpeNpdc3bpjsdf+wS53AZ3HY\njWv3xHhXqYcjcSPi/ez1ncx25VzY3A601/Jj/xPwSzCuTSEo6H8Iyxa/odNz\nG+r4GE9bERYWCIjImF49R8dkoI/tgqLc0TWJI5fVk34Z1Rs24fLt2MXtI3pF\n62/uuhgGEQB5l+OTA45vJR78GAXoeYnxeRac4k9d+v+hYp+XwXf3BLJ0dDGE\nj2f/OPIA5mVBFg6zi0Ptgd8PlrUEQqGm+dOGnVfKdQw9Fircp46S0vERx2Vc\nAU6qDxshCHHBUGoBoIMGoSaibq8qy6euU+UaphA411MCfGtyjOVqeuXux5jy\nE3+R58jbOODHNsQ4QQHm7kRafcH8cwaE7Zm3xQb2L4T0fxfCPK+xcpNLtYLz\nizIP\r\n=2Trw\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"leonardoraele","email":"leonardoraele@gmail.com"},"directories":{},"maintainers":[{"name":"leonardoraele","email":"leonardoraele@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-eventemitter2_0.1.0_1618156541210_0.11457442002548612"},"_hasShrinkwrap":false},"0.1.1":{"name":"chai-eventemitter2","version":"0.1.1","description":"Chai plugin for testing node-style EventEmitters","main":"lib/chai-eventemitter2","scripts":{"test":"mocha","coverage":"nyc --reporter=html npm test"},"repository":{"type":"git","url":"git+ssh://git@github.com/leonardoraele/chai-eventemitter2.git"},"keywords":["chai","chai-plugin","plugin","eventemitter","event","emitter","test"],"author":{"name":"Leonardo Raele","email":"leonardoraele@gmail.com"},"license":"MIT","bugs":{"url":"https://github.com/leonardoraele/chai-eventemitter2/issues"},"homepage":"https://github.com/leonardoraele/chai-eventemitter2#readme","devDependencies":{"chai":"^4.3.4","mocha":"^8.3.2","nyc":"^15.1.0"},"dependencies":{"deep-equal":"^2.0.5","lodash.ismatch":"^4.4.0"},"gitHead":"4dde51e4505c376fb1e4e41e4d50e5319805c9b2","_id":"chai-eventemitter2@0.1.1","_nodeVersion":"15.12.0","_npmVersion":"7.6.3","dist":{"integrity":"sha512-fRAe/UDpjwnJyg9BMdpmxtrRr0ikwIenY+v9JaFNbX1sv9xoJcS+twPmvy5kNhwHE5r5uK/d9JWc8YiTDiyDgg==","shasum":"87cfa2d92f0593a3fa6afc40d9caed492bf68592","tarball":"https://registry.npmjs.org/chai-eventemitter2/-/chai-eventemitter2-0.1.1.tgz","fileCount":6,"unpackedSize":23183,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgetJhCRA9TVsSAnZWagAA9UEQAI/kQ0jy5gy+87Ygb/62\nZjVVZsX9lKot1acUDRnH0d5Lpdgoa0mZkPG0eWg17bQSOQBmW9KB0h+Xu18y\nDjVKQyOMoPknMVnINqksrINxasBr0X60DmKy6KGAQaF6QFE7Lm3sCF3k75aY\nYPI1a3KMRGV3qMuEoFRntA3PXzUsWbJRNd5SaEbl66XkAjQCM6Z2UDFAcsM3\nLKUheXN7reEWS2PGoV3RJ1mz3suZEMv6AdMRriOZhlXJg9KF9IyHJbDfyha5\n217f4aiiMsWv7AHpsAxZFAplKw+QFCpYzvqQugFfcz+l9dolGNWvS+yUutLP\nNrcjWxo2aLDpqzhbuMVa5FNr7G2gPs8alo6lmu5xqdE0CVMDATNK/E/wjrjd\ncXbtbZ0h/aANILpEBndrpiYztTLZA6r/a1+fVPqyHRoX3YNKPMLS+8KoCxYV\nqavOtlWmNf/CT8D14CI0oFPaBMDzOLWj2pJFvRRqfm0vMfiP6RhLDBGUhEPy\nsjhKLSX91TpwraQeF+I7twg31eCVntGWgINshD0qZLGlIXhpLKtICDwqg8Yn\nmRJPah9cwo3LP8Xr+5+Y14lS5DAeh4L+ez/dYayY75r6jl4gcpMMwrdRJrNh\naZTpsPqa/kIheHU0fkFj7sxHdsrdBkInxKv6X5XHG2HsYetHr/xawxUzNGqW\nwSix\r\n=Z4Ws\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"leonardoraele","email":"leonardoraele@gmail.com"},"directories":{},"maintainers":[{"name":"leonardoraele","email":"leonardoraele@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-eventemitter2_0.1.1_1618661984500_0.32778830021955385"},"_hasShrinkwrap":false},"0.2.0":{"name":"chai-eventemitter2","version":"0.2.0","description":"Chai plugin for testing node-style EventEmitters","main":"lib/chai-eventemitter2","scripts":{"test":"mocha","coverage":"nyc --reporter=html npm test"},"repository":{"type":"git","url":"git+ssh://git@github.com/leonardoraele/chai-eventemitter2.git"},"keywords":["chai","chai-plugin","plugin","eventemitter","event","emitter","test"],"author":{"name":"Leonardo Raele","email":"leonardoraele@gmail.com"},"license":"MIT","bugs":{"url":"https://github.com/leonardoraele/chai-eventemitter2/issues"},"homepage":"https://github.com/leonardoraele/chai-eventemitter2#readme","devDependencies":{"chai":"^4.3.4","mocha":"^8.3.2","nyc":"^15.1.0"},"dependencies":{"deep-equal":"^2.0.5","lodash.groupby":"^4.6.0","lodash.ismatch":"^4.4.0"},"gitHead":"eac2b06993dad490668cf1200a9e8d6c14ffacbd","_id":"chai-eventemitter2@0.2.0","_nodeVersion":"15.12.0","_npmVersion":"7.6.3","dist":{"integrity":"sha512-zHA5FnruFJGMytqhKQfpXHcdVJ6ZkWa/06Z0Q6yO6qFTDakLRoiLm246IKXiLDFQuvqcH5Gvpc/AP1MxWIUukA==","shasum":"a8f0a9694959ebf607bf9052dfb16be6d21203a8","tarball":"https://registry.npmjs.org/chai-eventemitter2/-/chai-eventemitter2-0.2.0.tgz","fileCount":7,"unpackedSize":24766,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgewxcCRA9TVsSAnZWagAAhD8QAJGNHT2ifrtcQwm2oCaU\nycopw6kb/JIqfbRp4iAJKfw0pvRf1/CsofbbC9UEOnn7YDYjiKBG7bNbFeBQ\nkRlVB1qKS6KpowJn6oOlUzCjEduPHYNlD2Ld4AV656wZwkZ9uOcVI38G/FY1\n4Tp44daAaJ/EHmHmedNtXwV6icGE8Nxk+uDnRbLFt5bcU5P2RrEgIv3fbWv4\nQpVthb0j8CJtPv4heYhtgTCOIrKOdYDJdWrICda2+I1phiUA4efSqU35//wP\no82FGKsVQveDLBlGRYkn2foIiA4tHlkL+21X48Yxmr2HSVM2wC/+LcHuTXI3\nr4xjMuEWzu9EF0Ic5XdmUykIPOXdZfQXRFc+vhxgvR5ISFq3mx9OatJJ/0Ti\nxR/Ps2tmSCt66sdp5VLJEl3PCB8HDQumHh3NsyDANBhBeeW/OA/8ZSIiALgG\nsIuxmnhz+xqKfLxrFDouAVakDl8lOu//2cZjAVRkaNbymFDP45NIHIIEmVMc\nbVuAaJU+7rbEMMXmzQ8sXJaJAl+lCNZyASFZptc4FDU2bA/VA5GShtoS1VQQ\nvD//5baD7H+OMaN0LJod4QCHvW47HuLfJlg9fuB+eeK0OwlozqrddHZWdQUE\n2Oz8IOa5/nT1XT/6h736lEPZ4mCoRhK2SatFbSx7cVNtNt5pGZN2QptRwvrb\nJ3UX\r\n=CGsz\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"leonardoraele","email":"leonardoraele@gmail.com"},"directories":{},"maintainers":[{"name":"leonardoraele","email":"leonardoraele@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-eventemitter2_0.2.0_1618676828269_0.6197993486876194"},"_hasShrinkwrap":false},"0.2.1":{"name":"chai-eventemitter2","version":"0.2.1","description":"Chai plugin for testing node-style EventEmitters","main":"lib/chai-eventemitter2","scripts":{"test":"mocha","coverage":"nyc --reporter=html npm test"},"repository":{"type":"git","url":"git+ssh://git@github.com/leonardoraele/chai-eventemitter2.git"},"keywords":["chai","chai-plugin","plugin","eventemitter","event","emitter","test"],"author":{"name":"Leonardo Raele","email":"leonardoraele@gmail.com"},"license":"MIT","bugs":{"url":"https://github.com/leonardoraele/chai-eventemitter2/issues"},"homepage":"https://github.com/leonardoraele/chai-eventemitter2#readme","devDependencies":{"chai":"^4.3.4","mocha":"^8.3.2","nyc":"^15.1.0"},"dependencies":{"deep-equal":"^2.0.5","lodash.groupby":"^4.6.0","lodash.ismatch":"^4.4.0"},"gitHead":"70fc2b23db259fbec2f16037449003bb7aae41bf","_id":"chai-eventemitter2@0.2.1","_nodeVersion":"14.0.0","_npmVersion":"6.14.4","dist":{"integrity":"sha512-Yt6DplGX5f1qYLyQKCaQ83R/hEHH17uh0soNHv8tIZ2/lIUlVShDq+xnqFQOuA6XCQK0wNM9clDR03wP7xGCuA==","shasum":"dfa3aa58a366fe75ca72271bb394129a76b38c0f","tarball":"https://registry.npmjs.org/chai-eventemitter2/-/chai-eventemitter2-0.2.1.tgz","fileCount":7,"unpackedSize":24894,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgew8MCRA9TVsSAnZWagAAyAoQAJ2SPgpDv25QRMStE8x/\nn2u3gQM4TNRbANwUMdlMV5IsFH7q9KKQcnnfqxMX5ejT6lDFOQXgQ1QOnFCm\nCIEBFIHKZGIxd2tUXjeyDL7w5whZfReLkt/y+q80X5Hvb7tNjmlMEg5nbgJF\nKNT6Sh48ByX1+jvej3h6MienOxRzORTY3+ZSAWKKHN77CiN2nnU25D6u+WDu\nwLtua5g9ZSrXmg9D2Iz3kIxdh3f0GkWk6GtNh4tbTECJ7iduGFZHlvR06/BK\nFD4PRyi6xfN5pNHXsgalLB+14u/K9ZIIvsLmtA8SqGj/BGsVeFmr13ZO3rBd\nMDap+/R2D9sUQ417BXmnyQsVFCFLi9rXFFwNB2HjhekhCKbjczTFhG4/c/TH\nBmY9RGA9G4dQw4XMjac9qmRVGktgUqM6WQQX1jLMGo8YKTEgkz961pTMUYJf\nEWiv9EEsdjZVIerVO8B7A/pzvhWreXHhkuw/dfdxfpunK2Ymu1k9HrYPxk/b\npwbQHCsiYRSll8plcpZ9pM+zkzC09OJ56pVO/oWSXhEBnCWB8k4WIX8B9eLW\nQxibxc7xMyKQGSsNdF8YtPb1AsEf169i6OiqJLCRY2gyBKh8Rsgh96o2khq8\nRGtDkKiDbIKsmB5kEluxHzjWZvuy8LTWKkoyrJTjVK6JPPrZSmybI0v/EToX\nDcqt\r\n=o4bM\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"leonardoraele","email":"leonardoraele@gmail.com"},"directories":{},"maintainers":[{"name":"leonardoraele","email":"leonardoraele@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/chai-eventemitter2_0.2.1_1618677516355_0.5570764218886541"},"_hasShrinkwrap":false}},"time":{"created":"2021-04-11T15:55:41.209Z","0.1.0":"2021-04-11T15:55:41.339Z","modified":"2021-04-17T16:38:38.675Z","0.1.1":"2021-04-17T12:19:44.670Z","0.2.0":"2021-04-17T16:27:08.455Z","0.2.1":"2021-04-17T16:38:36.497Z"},"maintainers":[{"name":"leonardoraele","email":"leonardoraele@gmail.com"}],"description":"Chai plugin for testing node-style EventEmitters","homepage":"https://github.com/leonardoraele/chai-eventemitter2#readme","keywords":["chai","chai-plugin","plugin","eventemitter","event","emitter","test"],"repository":{"type":"git","url":"git+ssh://git@github.com/leonardoraele/chai-eventemitter2.git"},"author":{"name":"Leonardo Raele","email":"leonardoraele@gmail.com"},"bugs":{"url":"https://github.com/leonardoraele/chai-eventemitter2/issues"},"license":"MIT","readme":"# chai-eventemitter2\nThis is a [chai](chaijs.com) plugin for testing node-style\n[EventEmitters](https://nodejs.org/api/events.html).\n\n## Compatibility\n\n- ECMAScript 2020 (Node.js 14+)\n\n## Installation\n\n1. Install the plugin:\n\n\t- Using NPM:\n\n\t\t```bash\n\t\tnpm install -D chai-eventemitter2\n\t\t```\n\n\t- Using Yarn:\n\n\t\t```bash\n\t\tyarn add -D chai-eventemitter2\n\t\t```\n\n1. Add this your test setup:\n\n\t```js\n\tconst chai = require('chai');\n\tconst eventemitter2 = require('chai-eventemitter2');\n\n\tchai.use(eventemitter2());\n\t```\n\n## Usage\n\nWith [Expect API](https://www.chaijs.com/api/bdd/):\n\n```js\nconst emitter = new EventEmitter();\n\nexpect(emitter).to.be.an.eventEmitter;\n\nexpect(emitter)\n\t.to.emit('foo')\n\t.to.emit('bar', {count: 2})\n\t.to.emit('baz', {withArgs: ['X', 'Y', 'Z']})\n\t.to.emit('error', {count: 0})\n\t.on(() =>\n\t{\n\t\temitter.emit('foo');\n\t\temitter.emit('bar');\n\t\temitter.emit('bar');\n\t\temitter.emit('baz', 'X', 'Y', 'Z');\n\t});\n```\n\n## API\n\n### `Assertion.eventEmitter`\n\nValidates if the asserted object is an EventEmitter based on it's properties.\n(i.e. it must be an object with `on` and `emit` methods, etc.)\n\nSee an example in the [usage](#usage) section.\n\n### `Assertion.emit(event[, options])`\n\nRegisters an expected event.\n\n- `event: string`\n\tThe name of the event.\n- `options.count: number|{min: number?, max: number?}`\n\tDetermines the number of times the event is expected to be emitted.\n\tCan be a fixed amount or a range.\n\t[default=1]\n- `option.argsMatch: 'deep'|'exact'|'soft'`\n\tIf you pass an array of expected arguments to the `withArgs` option,\n\tyou can use this option to determine how the actual event arguments will be\n\tcompared to the expected values.\n\n\t- `'deep'` Makes a deep comparison between the elements of the `withArgs`\n\t\tarray and the event arguments.\n\t- `'exact'` Makes reference-equality comparison (`===`) between each element\n\t\tof the `withArgs` array and the event arguments.\n\t- `'soft'` Expects the emitted event to contain the arguments set in the\n\t\t`withArgs` array, but ignores extra arguments.\n\t\tIf the array contains objects, search for the object properties in the\n\t\temitted event arguments but ignores extra properties.\n\n\t\tThis is the default comparison method.\n\n\tIf `withArgs` option is omitted or is not an array, this option is ignored.\n- `options.withArgs: any[]|(...any) => boolean`\n\tUsed to validate the event arguments.\n\tIf you pass an array, the plugin will expect the event arguments to match\n\tthe values of the array.\n\tIf you pass a callback function, it will be called with the arguments of the\n\tevent so that you can make complex validations.\n\n### `Assertion.on((EventEmitter) => undefined)`\n\nCall this method with a callback function with the code that emits events.\nThe callback will be called and it is expected to emit all the events that were\nregistered with `emit`, otherwise the test fails.\n\nSee an example in the [usage](#usage) section.\n\n## Known Issues\n\n- ⚠️ It doesn't handle circular references in the `withArgs`.\n\tThe test might break if your event arguments have circular references.\n- ⚠️ It doesn't work with the \"not\" flag (`.not`).\n\tYou can work around this issue using the `count` option.\n\t(i.e. assert that an event is emitted `0` times)\n- ⚠️ Not tested for asynchrony.\n\n## Disclaimer\n\nInspired by [fengb/chai-eventemitter](https://github.com/fengb/chai-eventemitter).\n\n## License\n\nMIT\n","readmeFilename":"README.md"}